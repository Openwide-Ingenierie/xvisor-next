/*
 * Copyright (C) 2014 Institut de Recherche Technologique SystemX and OpenWide.
 * Originally from Jean-Christophe Dubois, and modified by
 * Jimmy Durand Wesolowski (jimmy.durand-wesolowski@openwide.fr)
 * to split device tree files between i.MX6-specific and Sabrelite-specific
 * definitions, and add the Anatop definition.
 * Inspired by the Linux Kernel 3.13.6 i.MX6 device tree file.
 */

#include "imx6q-pinfunc.h"

/ {
	#address-cells = <1>;
	#size-cells = <1>;
	compatible = "freescale,imx6";
	model = "imx6q";

	chosen { };

	aliases { };

	cpus {
		#address-cells = <1>;
		#size-cells = <0>;

		cpu@0 {
			device_type = "cpu";
			compatible = "arm,cortex-a9";
			reg = <0>;
			enable-method = "smp-scu";
			cpu-clear-addr = <0x10000034>;
			cpu-release-addr = <0x10000030>;
		};

		cpu@1 {
			device_type = "cpu";
			compatible = "arm,cortex-a9";
			reg = <1>;
			enable-method = "smp-scu";
			cpu-clear-addr = <0x10000034>;
			cpu-release-addr = <0x10000030>;
		};

		cpu@2 {
			device_type = "cpu";
			compatible = "arm,cortex-a9";
			reg = <2>;
			enable-method = "smp-scu";
			cpu-clear-addr = <0x10000034>;
			cpu-release-addr = <0x10000030>;
		};

		cpu@3 {
			device_type = "cpu";
			compatible = "arm,cortex-a9";
			reg = <3>;
			enable-method = "smp-scu";
			cpu-clear-addr = <0x10000034>;
			cpu-release-addr = <0x10000030>;
		};
	};

        clocks {
		#address-cells = <1>;
		#size-cells = <0>;

		ckil {
			compatible = "imx-ckil", "fixed-clock";
			clock-frequency = <32768>;
		};

		ckih1 {
			compatible = "imx-ckih1", "fixed-clock";
			clock-frequency = <0>;
		};

		osc {
			compatible = "imx-osc", "fixed-clock";
			clock-frequency = <24000000>;
		};
	};

	scu { /* Snoop Control Unit */
      		device_type = "scu";
      		compatible = "arm,cortex-a9-scu";
      		reg = <0x00a00000 0x100>;
		interrupts = <53>;
	};

	gic { /* Generic Interrupt Controller */
      		device_type = "pic";
      		compatible = "arm,cortex-a9-gic";
      		reg = <0x00a01000 0x1000
		       0x00a00100 0x100>;
	};

	twd-timer { /* Local Timer */
      		device_type = "timer";
      		compatible = "arm,cortex-a9-twd-timer";
      		reg = <0x00a00600 0x20>;	/* Local timer registers */
		ref-counter-freq = <24000000>;	/* Reference counter frequency */
		interrupts = <29>;
	};

	soc {
		#address-cells = <1>;
		#size-cells = <1>;
		compatible = "simple-bus";

		ocram {
			compatible = "mmio-sram";
			reg = <0x00900000 0x40000>;
		};

		aips-bus@02000000 { /* AIPS1 */
			compatible = "fsl,aips-bus", "simple-bus";
			#address-cells = <1>;
			#size-cells = <1>;
			reg = <0x02000000 0x100000>;
			ranges;

			gpio2: gpio@020a0000 {
				compatible = "fsl,imx6q-gpio", "fsl,imx35-gpio";
				reg = <0x020a0000 0x4000>;
				interrupts = <100 101>;
				gpio-controller;
				#gpio-cells = <2>;
				interrupt-controller;
				#interrupt-cells = <2>;
			};

			/* This must be declared before ECSPI controller
			   definition, which are using it */
			gpio3: gpio@020a4000 {
				compatible = "fsl,imx6q-gpio", "fsl,imx35-gpio";
				reg = <0x020a4000 0x4000>;
				interrupts = <102 103>;
				gpio-controller;
				#gpio-cells = <2>;
				interrupt-controller;
				#interrupt-cells = <2>;
			};

			gpio7: gpio@020b4000 {
				compatible = "fsl,imx6q-gpio", "fsl,imx35-gpio";
				reg = <0x020b4000 0x4000>;
				interrupts = <110 111>;
				gpio-controller;
				#gpio-cells = <2>;
				interrupt-controller;
				#interrupt-cells = <2>;
			};

			anatop: anatop@020c8000 {
				compatible = "fsl,imx6q-anatop", "syscon", "simple-bus";
				reg = <0x020c8000 0x1000>;
				interrupts = <49 54 127>;
			};

			gpc@020dc000 {
				compatible = "fsl,imx6q-gpc";
				reg = <0x020dc000 0x4000>;
				interrupts = <89 90>;
			};

			clks: ccm@020c4000 {
				compatible = "fsl,imx6q-ccm";
				reg = <0x020c4000 0x4000>;
				interrupts = <0 87 0x04 0 88 0x04>;
				#clock-cells = <1>;
			};

			iomuxc: iomuxc@020e0000 {
				compatible = "fsl,imx6dl-iomuxc", "fsl,imx6q-iomuxc";
				reg = <0x020e0000 0x4000>;

				ecspi1 {
					pinctrl_ecspi1_1: ecspi1grp-1 {
						fsl,pins = <
							MX6QDL_PAD_EIM_D17__ECSPI1_MISO 0x100b1
							MX6QDL_PAD_EIM_D18__ECSPI1_MOSI 0x100b1
							MX6QDL_PAD_EIM_D16__ECSPI1_SCLK 0x100b1
						>;
					};
				};

				usdhc1 {
					pinctrl_usdhc1_1: usdhc1grp-1 {
						fsl,pins = <
							MX6QDL_PAD_SD1_CMD__SD1_CMD    0x17059
							MX6QDL_PAD_SD1_CLK__SD1_CLK    0x10059
							MX6QDL_PAD_SD1_DAT0__SD1_DATA0 0x17059
							MX6QDL_PAD_SD1_DAT1__SD1_DATA1 0x17059
							MX6QDL_PAD_SD1_DAT2__SD1_DATA2 0x17059
							MX6QDL_PAD_SD1_DAT3__SD1_DATA3 0x17059
							MX6QDL_PAD_NANDF_D0__SD1_DATA4 0x17059
							MX6QDL_PAD_NANDF_D1__SD1_DATA5 0x17059
							MX6QDL_PAD_NANDF_D2__SD1_DATA6 0x17059
							MX6QDL_PAD_NANDF_D3__SD1_DATA7 0x17059
						>;
					};

					pinctrl_usdhc1_2: usdhc1grp-2 {
						fsl,pins = <
							MX6QDL_PAD_SD1_CMD__SD1_CMD    0x17059
							MX6QDL_PAD_SD1_CLK__SD1_CLK    0x10059
							MX6QDL_PAD_SD1_DAT0__SD1_DATA0 0x17059
							MX6QDL_PAD_SD1_DAT1__SD1_DATA1 0x17059
							MX6QDL_PAD_SD1_DAT2__SD1_DATA2 0x17059
							MX6QDL_PAD_SD1_DAT3__SD1_DATA3 0x17059
						>;
					};
				};

				usdhc2 {
					pinctrl_usdhc2_1: usdhc2grp-1 {
						fsl,pins = <
							MX6QDL_PAD_SD2_CMD__SD2_CMD    0x17059
							MX6QDL_PAD_SD2_CLK__SD2_CLK    0x10059
							MX6QDL_PAD_SD2_DAT0__SD2_DATA0 0x17059
							MX6QDL_PAD_SD2_DAT1__SD2_DATA1 0x17059
							MX6QDL_PAD_SD2_DAT2__SD2_DATA2 0x17059
							MX6QDL_PAD_SD2_DAT3__SD2_DATA3 0x17059
							MX6QDL_PAD_NANDF_D4__SD2_DATA4 0x17059
							MX6QDL_PAD_NANDF_D5__SD2_DATA5 0x17059
							MX6QDL_PAD_NANDF_D6__SD2_DATA6 0x17059
							MX6QDL_PAD_NANDF_D7__SD2_DATA7 0x17059
						>;
					};

					pinctrl_usdhc2_2: usdhc2grp-2 {
						fsl,pins = <
							MX6QDL_PAD_SD2_CMD__SD2_CMD    0x17059
							MX6QDL_PAD_SD2_CLK__SD2_CLK    0x10059
							MX6QDL_PAD_SD2_DAT0__SD2_DATA0 0x17059
							MX6QDL_PAD_SD2_DAT1__SD2_DATA1 0x17059
							MX6QDL_PAD_SD2_DAT2__SD2_DATA2 0x17059
							MX6QDL_PAD_SD2_DAT3__SD2_DATA3 0x17059
						>;
					};
				};

				usdhc3 {
					pinctrl_usdhc3_1: usdhc3grp-1 {
						fsl,pins = <
							MX6QDL_PAD_SD3_CMD__SD3_CMD    0x17059
							MX6QDL_PAD_SD3_CLK__SD3_CLK    0x10059
							MX6QDL_PAD_SD3_DAT0__SD3_DATA0 0x17059
							MX6QDL_PAD_SD3_DAT1__SD3_DATA1 0x17059
							MX6QDL_PAD_SD3_DAT2__SD3_DATA2 0x17059
							MX6QDL_PAD_SD3_DAT3__SD3_DATA3 0x17059
							MX6QDL_PAD_SD3_DAT4__SD3_DATA4 0x17059
							MX6QDL_PAD_SD3_DAT5__SD3_DATA5 0x17059
							MX6QDL_PAD_SD3_DAT6__SD3_DATA6 0x17059
							MX6QDL_PAD_SD3_DAT7__SD3_DATA7 0x17059
						>;
					};

					pinctrl_usdhc3_1_100mhz: usdhc3grp-1-100mhz { /* 100Mhz */
						fsl,pins = <
							MX6QDL_PAD_SD3_CMD__SD3_CMD 0x170b9
							MX6QDL_PAD_SD3_CLK__SD3_CLK 0x100b9
							MX6QDL_PAD_SD3_DAT0__SD3_DATA0 0x170b9
							MX6QDL_PAD_SD3_DAT1__SD3_DATA1 0x170b9
							MX6QDL_PAD_SD3_DAT2__SD3_DATA2 0x170b9
							MX6QDL_PAD_SD3_DAT3__SD3_DATA3 0x170b9
							MX6QDL_PAD_SD3_DAT4__SD3_DATA4 0x170b9
							MX6QDL_PAD_SD3_DAT5__SD3_DATA5 0x170b9
							MX6QDL_PAD_SD3_DAT6__SD3_DATA6 0x170b9
							MX6QDL_PAD_SD3_DAT7__SD3_DATA7 0x170b9
						>;
					};

					pinctrl_usdhc3_1_200mhz: usdhc3grp-1-200mhz { /* 200Mhz */
						fsl,pins = <
							MX6QDL_PAD_SD3_CMD__SD3_CMD 0x170f9
							MX6QDL_PAD_SD3_CLK__SD3_CLK 0x100f9
							MX6QDL_PAD_SD3_DAT0__SD3_DATA0 0x170f9
							MX6QDL_PAD_SD3_DAT1__SD3_DATA1 0x170f9
							MX6QDL_PAD_SD3_DAT2__SD3_DATA2 0x170f9
							MX6QDL_PAD_SD3_DAT3__SD3_DATA3 0x170f9
							MX6QDL_PAD_SD3_DAT4__SD3_DATA4 0x170f9
							MX6QDL_PAD_SD3_DAT5__SD3_DATA5 0x170f9
							MX6QDL_PAD_SD3_DAT6__SD3_DATA6 0x170f9
							MX6QDL_PAD_SD3_DAT7__SD3_DATA7 0x170f9
						>;
					};

					pinctrl_usdhc3_2: usdhc3grp-2 {
						fsl,pins = <
							MX6QDL_PAD_SD3_CMD__SD3_CMD    0x17059
							MX6QDL_PAD_SD3_CLK__SD3_CLK    0x10059
							MX6QDL_PAD_SD3_DAT0__SD3_DATA0 0x17059
							MX6QDL_PAD_SD3_DAT1__SD3_DATA1 0x17059
							MX6QDL_PAD_SD3_DAT2__SD3_DATA2 0x17059
							MX6QDL_PAD_SD3_DAT3__SD3_DATA3 0x17059
						>;
					};
				};

				usdhc4 {
					pinctrl_usdhc4_1: usdhc4grp-1 {
						fsl,pins = <
							MX6QDL_PAD_SD4_CMD__SD4_CMD    0x17059
							MX6QDL_PAD_SD4_CLK__SD4_CLK    0x10059
							MX6QDL_PAD_SD4_DAT0__SD4_DATA0 0x17059
							MX6QDL_PAD_SD4_DAT1__SD4_DATA1 0x17059
							MX6QDL_PAD_SD4_DAT2__SD4_DATA2 0x17059
							MX6QDL_PAD_SD4_DAT3__SD4_DATA3 0x17059
							MX6QDL_PAD_SD4_DAT4__SD4_DATA4 0x17059
							MX6QDL_PAD_SD4_DAT5__SD4_DATA5 0x17059
							MX6QDL_PAD_SD4_DAT6__SD4_DATA6 0x17059
							MX6QDL_PAD_SD4_DAT7__SD4_DATA7 0x17059
						>;
					};

					pinctrl_usdhc4_2: usdhc4grp-2 {
						fsl,pins = <
							MX6QDL_PAD_SD4_CMD__SD4_CMD    0x17059
							MX6QDL_PAD_SD4_CLK__SD4_CLK    0x10059
							MX6QDL_PAD_SD4_DAT0__SD4_DATA0 0x17059
							MX6QDL_PAD_SD4_DAT1__SD4_DATA1 0x17059
							MX6QDL_PAD_SD4_DAT2__SD4_DATA2 0x17059
							MX6QDL_PAD_SD4_DAT3__SD4_DATA3 0x17059
						>;
					};
				};

			};

			spba-bus@02000000 {
				#address-cells = <1>;
				#size-cells = <1>;

				ecspi1: ecspi@02008000 {
					compatible = "fsl,imx6q-ecspi", "fsl,imx51-ecspi";
					reg = <0x02008000 0x4000>;
					interrupts = <63>;
					clocks = <&clks 112>, <&clks 112>;
					clock-names = "ipg", "per";
					status = "disabled";
				};

				ecspi2: ecspi@0200c000 {
					compatible = "fsl,imx6q-ecspi", "fsl,imx51-ecspi";
					reg = <0x0200c000 0x4000>;
					interrupts = <64>;
					clocks = <&clks 113>, <&clks 113>;
					clock-names = "ipg", "per";
					status = "disabled";
				};

				ecspi3: ecspi@02010000 {
					compatible = "fsl,imx6q-ecspi", "fsl,imx51-ecspi";
					reg = <0x02010000 0x4000>;
					interrupts = <65>;
					clocks = <&clks 114>, <&clks 114>;
					clock-names = "ipg", "per";
					status = "disabled";
				};

				ecspi4: ecspi@02014000 {
					compatible = "fsl,imx6q-ecspi", "fsl,imx51-ecspi";
					reg = <0x02014000 0x4000>;
					interrupts = <66>;
					clocks = <&clks 115>, <&clks 115>;
					clock-names = "ipg", "per";
					status = "disabled";
				};

				ecspi5: ecspi@02018000 {
					compatible = "fsl,imx6q-ecspi", "fsl,imx51-ecspi";
					reg = <0x02018000 0x4000>;
					interrupts = <67>;
					clocks = <&clks 116>, <&clks 116>;
					clock-names = "ipg", "per";
					status = "disabled";
				};
			};

			usdhc1: usdhc@02190000 {
				compatible = "fsl,imx6q-usdhc";
				reg = <0x02190000 0x4000>;
				interrupts = <54>;
				clocks = <&clks 163>, <&clks 163>, <&clks 163>;
				clock-names = "ipg", "ahb", "per";
				bus-width = <4>;
				status = "disabled";
			};

			usdhc2: usdhc@02194000 {
				compatible = "fsl,imx6q-usdhc";
				reg = <0x02194000 0x4000>;
				interrupts = <55>;
				clocks = <&clks 164>, <&clks 164>, <&clks 164>;
				clock-names = "ipg", "ahb", "per";
				bus-width = <4>;
				status = "disabled";
			};

			usdhc3: usdhc@02198000 {
				compatible = "fsl,imx6q-usdhc";
				reg = <0x02198000 0x4000>;
				interrupts = <56>;
				clocks = <&clks 165>, <&clks 165>, <&clks 165>;
				clock-names = "ipg", "ahb", "per";
				bus-width = <4>;
				status = "disabled";
			};

			usdhc4: usdhc@0219c000 {
				compatible = "fsl,imx6q-usdhc";
				reg = <0x0219c000 0x4000>;
				interrupts = <57>;
				clocks = <&clks 166>, <&clks 166>, <&clks 166>;
				clock-names = "ipg", "ahb", "per";
				bus-width = <4>;
				status = "disabled";
			};

		};

		SERIAL1: uart1 {
			compatible = "freescale,imx-uart";
			reg = <0x02020000 0x4000>;
			clock-frequency = <80000000>;
			interrupts = <58>;
			clock-names = "uart_ipg", "uart_serial";
			clocks = <&clks 160>, <&clks 161>;
		};

		SERIAL2: uart2 {
			compatible = "freescale,imx-uart";
			reg = <0x021e8000 0x4000>;
			clock-frequency = <80000000>;
			interrupts = <59>;
			clock-names = "uart_ipg", "uart_serial";
			clocks = <&clks 160>, <&clks 161>;
		};

		SERIAL3: uart3 {
			compatible = "freescale,imx-uart";
			reg = <0x021ec000 0x4000>;
			clock-frequency = <80000000>;
			interrupts = <60>;
			clock-names = "uart_ipg", "uart_serial";
			clocks = <&clks 160>, <&clks 161>;
		};

		SERIAL4: uart4 {
			compatible = "freescale,imx-uart";
			reg = <0x021f0000 0x4000>;
			clock-frequency = <80000000>;
			interrupts = <61>;
			clock-names = "uart_ipg", "uart_serial";
			clocks = <&clks 160>, <&clks 161>;
		};

		SERIAL5: uart5 {
			compatible = "freescale,imx-uart";
			reg = <0x021f4000 0x4000>;
			clock-frequency = <80000000>;
			interrupts = <62>;
			clock-names = "uart_ipg", "uart_serial";
			clocks = <&clks 160>, <&clks 161>;
		};

		epit1 {
			device_type = "timer";
			compatible = "freescale,epit-timer";
			reg = <0x020d0000 0x4000>;
			clock-frequency = <38999040>;
			timer_num = <0>;
			interrupts = <88>;
		};

		epit2 {
			device_type = "timer";
			compatible = "freescale,epit-timer";
			reg = <0x020d4000 0x4000>;
			clock-frequency = <38999040>;
			timer_num = <1>;
			interrupts = <89>;
		};

		gpt {
			device_type = "timer";
			compatible = "fsl,imx6q-gpt";
			reg = <0x02098000 0x4000>;
			clock-frequency = <1000000>;
			timer_num = <2>;
			interrupts = <87>;
		};
	};
};

